@page

@model WebImage.Pages.GalleryModel
@{
    var unSelectedImageList = Model.IjpModel.MyFiles.Where(x => !x.IsSelected).ToList();

    string PublicSelected = (Model.IjpModel.TypeSelected == "Public") ? "btn-warning" : "btn-secondary";
    string PrivateSelected = (Model.IjpModel.TypeSelected == "Private") ? "btn-warning" : "btn-secondary";

}
<script src="~/vendor/jquery/dist/jquery.js"></script>
<script src="~/vendor/lightgallery/dist/js/lightgallery-all.js"></script>
<link href="~/vendor/lightgallery/dist/css/lightgallery.css" rel="stylesheet" />
<link href="~/vendor/lightgallery/dist/css/lg-transitions.css" rel="stylesheet" />

@*<style>
    #selectiongallery {
        padding: 20px;
        font-size: 12px;
        height: auto;
        overflow: auto;
    }
</style>

    <div class="collapse" id="selectiongallery">
        <partial name="MyGalleries" model="Model.IjpModel" />
    </div>*@

    @foreach (var image in unSelectedImageList.Where(x => !x.IsPrivate))
    {
        <div id="caption_@image.Name.Replace(@image.RawFormat, "")" style="display:none">
            <h4>@image.Title</h4>
            <p><strong>Format: </strong>@image.RawFormat</p>
            <p><strong>Landscape: </strong>@image.IsLandscape</p>
            <p><strong>Pixel Format: </strong>@image.PixelFormat</p>
            <p><strong>Size: </strong>@image.Width X @image.Height</p>
            <p><strong>Resolution: </strong>@image.HorizontalResolution X @image.VerticalResolution</p>
            <p><strong>Url: </strong>@image.Url</p>
        </div>
    }

    <div id="gallery">
        @foreach (var image in unSelectedImageList.Where(x => !x.IsPrivate))
        {
            <a href="@image.Path" data-sub-html="#caption_@image.Name.Replace(@image.RawFormat, "")">
                <img src="@image.Thumb" />
            </a>
        }
    </div>
<script>
    var bookmark;
    var showhideattributelist = "@Model.IjpModel.HideAttributeList";

    var $lg = $('#gallery');
    $lg.lightGallery();

    $lg.on('onCloseAfter.lg', function (event) {
        bookmark = $lg.data('lightGallery').s.bookmark;

        if (bookmark.length > 0) {
            window.location.href = '@Url.Page("MyGalleries")?bookmark=' + btoa(bookmark) + "&sh=" + btoa(",content") + "&newg=y";
        }
    });
</script>